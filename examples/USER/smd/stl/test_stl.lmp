# create flow by heating and cooling
variable        l0 equal 0.25 # initial particle lattice spacing
variable        rho equal 1 # mass density ulsph
variable        h equal 2.5*${l0} # SPH kernel diameter
variable        c0 equal 1.0 # speed of sound for ulsph
variable        contact_stiffness equal 2*0.5*${c0}^2*${rho} # contact force amplitude
variable        skin equal ${l0} # Verlet list range
variable        vol_one equal ${l0}^2 # initial particle volume for 2d simulation
variable        cr0 equal ${l0}/2

units		si
dimension       3
boundary        f f f
atom_style      smd
comm_style      tiled
neighbor        10 nsq
neigh_modify    every 5 delay 0 check yes
comm_modify     vel yes
newton          off
atom_modify     map array

# create simulation box, a container, and a ulsph column
region          box block -1000 1000 -1000 1000 -1000 1000 units box
create_box      2 box

create_atoms    1 single 0 0 0 units box
create_atoms    1 single 1 0 0 units box

set             group all volume ${vol_one}
set             group all diameter 1.0
set             group all density ${rho}
pair_style      hybrid/overlay ulsph 
pair_coeff      1 1 ulsph *COMMON ${rho} ${c0} 1.0 1 &
		*EOS_TAIT 2 &
	        *END
pair_coeff      2 2 none
pair_coeff      1 2 none


thermo          1
dump            dump_id all custom 1 dump.LAMMPS id type x y z &
                fx fy fz vx vy vz mol &
                mass radius 
dump_modify     dump_id first yes


fix             stl_surface_fix all smd/wall_surface

run             2



